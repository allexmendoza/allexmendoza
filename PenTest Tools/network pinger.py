#!/usr/bin/env python3
import subprocess
import sys

# Get network from user
network = input("Enter network (like 192.168.1): ")

print(f"Pinging {network}.1 to {network}.20")
print("-" * 30)

alive = 0
for i in range(1, 21):
    ip = f"{network}.{i}"
    
    # Pick ping command based on OS
    if sys.platform.startswith('win'):
        cmd = ['ping', '-n', '1', '-w', '1000', ip]
    else:
        cmd = ['ping', '-c', '1', '-W', '1', ip]
    
    try:
        result = subprocess.run(cmd, capture_output=True, timeout=2)
        if result.returncode == 0:
            print(f"{ip} is alive")
            alive += 1
    except:
        pass

print(f"\nFound {alive} live hosts")